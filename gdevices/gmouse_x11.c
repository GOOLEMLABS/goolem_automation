#include <stdio.h>#include <stdlib.h>#include <cstring>#include <unistd.h>#include <X11/Xlib.h>//https://www.x.org/releases/X11R7.5/doc/man/man3/XSendEvent.3.htmlvoid sendMouseEvent(Display *display, Window root, int x, int y, int button, int isPress) {    XEvent event;    memset(&event, 0, sizeof(event));    if (isPress)         {         printf("ButtonPress<<<<<<<<<<<<<");         event.xbutton.type = ButtonPress;         }    else{        printf("<<<<<<<<<<<<ButtonRelease");        event.xbutton.type=ButtonRelease;    };    event.xbutton.root = root;    event.xbutton.subwindow = None;    event.xbutton.time = CurrentTime;    event.xbutton.x = x;    event.xbutton.y = y;    event.xbutton.same_screen = True;    event.xbutton.button = button;    XSendEvent(display, root, True, ButtonPressMask, &event);    XFlush(display);    usleep(10000);}void moveMouse(Display *display, Window root, int x, int y) {    XWarpPointer(display, None, root, 0, 0, 0, 0, x, y);    XFlush(display);}extern "C" {   int mouse_move_extern(int _X, int _Y, int _iSLEEP ){    Display *display;    Window root;    XWindowAttributes attr;    display = XOpenDisplay(NULL);    if (!display) {        fprintf(stderr, "Unable to open display\n");        exit(EXIT_FAILURE);    }    root = DefaultRootWindow(display);    printf("called mouse move\n");    printf("X 22%d",_X);    printf("Y %d",_Y);    moveMouse(display,root,_X,_Y);    printf("waiting\n");    sleep(_iSLEEP);    XCloseDisplay(display);    return 0;    }    int mouse_event_extern(int _X, int _Y, int _iBUTTON,int _iISPRESS,int _iSLEEP ){    printf("called mouse event\n");    _iISPRESS=1;    //printf("ISPRESS CHECK %s",_ISPRESS);    printf("ISPRESS CHECK %d",_iISPRESS);    Display *display;    Window root;    XWindowAttributes attr;    printf("\n mouse event %d _BUTTON  ISPRESS %d \n",(_iBUTTON,_iISPRESS));    display = XOpenDisplay(NULL);    if (!display) {        fprintf(stderr, "Unable to open display\n");        exit(EXIT_FAILURE);    }    root = DefaultRootWindow(display);    printf("\nuaaaa called mouse event\n");    sendMouseEvent(display, root,_X,_Y,_iBUTTON,_iISPRESS); // Press left button    printf("\nwaiting\n");    sleep(_iSLEEP);    XCloseDisplay(display);        return 0;    }}